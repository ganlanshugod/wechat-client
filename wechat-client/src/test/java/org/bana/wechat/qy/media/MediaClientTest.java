/**
* @Company 青鸟软通   
* @Title: MediaClientTest.java 
* @Package org.bana.wechat.qy.media 
* @author Liu Wenjie   
* @date 2015-7-20 下午5:55:43 
* @version V1.0   
*/ 
package org.bana.wechat.qy.media;

import org.bana.wechat.BaseTestCase;
import org.bana.wechat.cp.common.Constants;
import org.bana.wechat.cp.token.domain.AccessToken;
import org.bana.wechat.cp.token.domain.SuiteAccessToken;
import org.bana.wechat.qy.connection.GetToken;
import org.bana.wechat.qy.media.domain.UploadResult;
import org.bana.wechat.qy.media.param.UploadParam;
import org.bana.wechat.qy.suite.SuiteClient;
import org.bana.wechat.qy.suite.param.GetCorpTokenParam;
import org.junit.Test;

/** 
 * @ClassName: MediaClientTest 
 * @Description: 上传接口的测试
 *  
 */
public class MediaClientTest extends BaseTestCase{
	
	private AccessToken corpToken;
//	@Before
	public void init(){
		SuiteAccessToken suiteToken = GetToken.getSuiteToken(suite_id, suite_secret, suite_ticket);
		GetCorpTokenParam tokenParam = new GetCorpTokenParam();
		tokenParam.setSuite_access_token(suiteToken.getSuiteAccessToken());
		tokenParam.setSuite_id(suite_id);
		tokenParam.setPermanent_code(permanentCode);
		tokenParam.setAuth_corpid(cropId);
		corpToken = SuiteClient.getCorpToken(tokenParam);
	}

	/**
	 * Test method for {@link org.bana.wechat.qy.media.MediaClient#upload(org.bana.wechat.qy.media.param.UploadParam)}.
	 */
	@Test
	public void testUpload() {
		UploadParam param = new UploadParam();
		param.setAccess_token("WtqRs8vxip5stLSrarYcaW_SwGer-OQiJoH4Kk4N_JGoTVnb9emBviqGlC_sQ1KPB65kz7RaBU4FIR825sbHBw");
		param.setFileExt(".jpeg");
		param.setContentType("image/jpeg");
		param.setMedia(new byte[]{-119, 80, 78, 71, 13, 10, 26, 10, 0, 0, 0, 13, 73, 72, 68, 82, 0, 0, 0, 32, 0, 0, 0, 32, 8, 6, 0, 0, 0, 115, 122, 122, -12, 0, 0, 0, 25, 116, 69, 88, 116, 83, 111, 102, 116, 119, 97, 114, 101, 0, 65, 100, 111, 98, 101, 32, 73, 109, 97, 103, 101, 82, 101, 97, 100, 121, 113, -55, 101, 60, 0, 0, 4, -39, 73, 68, 65, 84, 120, -38, -84, 87, 89, 72, 43, 103, 20, -2, 103, 18, 47, 38, -72, 47, 104, -60, 5, 92, 34, 40, 40, -88, 16, 23, 124, 80, 27, 99, -84, 34, 23, 33, 15, 33, 23, 20, -33, -38, -5, 94, 74, -97, -53, -91, 111, 66, 91, -6, -22, -69, 72, -75, 98, 93, -46, 43, -120, 4, -82, 23, 125, -48, 42, 110, 87, -59, 13, -9, 93, -109, -72, 37, 61, -33, 112, 39, 36, -29, 76, 50, 106, 15, -124, 73, 50, 51, -25, -100, -1, -100, -17, -1, -2, -17, 112, -27, -27, -27, 76, -115, -75, -75, -75, -91, 93, 93, 93, -3, 120, 122, 122, 106, 62, 57, 57, -55, 62, 63, 63, -41, 123, -67, 94, 30, -9, -94, -93, -93, 125, 9, 9, 9, -18, -28, -28, -28, -83, -92, -92, 36, 103, 108, 108, -20, -121, -127, -127, -127, 3, 53, 126, -71, 72, 9, -76, -74, -74, 54, 108, 109, 109, -3, -66, -70, -70, 106, 44, 44, 44, -28, 74, 74, 74, 88, 94, 94, 30, 75, 75, 75, 99, 122, -67, 94, 120, -58, -19, 118, -77, -125, -125, 3, -74, -74, -74, -58, -26, -26, -26, -40, -14, -14, -78, -65, -96, -96, 96, 37, 59, 59, -5, -5, -63, -63, -63, -113, 47, 74, -96, -67, -67, 61, -127, 2, 15, -109, 51, -109, -39, 108, -26, 44, 22, 11, -117, -117, -117, 83, 85, -83, -53, -53, 75, 54, 58, 58, -54, -100, 78, -89, -33, 104, 52, 126, -50, -55, -55, 105, -22, -21, -21, 59, 87, -99, 0, -83, -70, 110, 102, 102, 102, -120, 86, -96, -21, -24, -24, 96, 84, 94, -10, 18, -93, 54, -79, -98, -98, 30, 70, 11, -15, 80, -100, 86, -71, 106, 104, 50, 50, 50, 66, -2, 104, 110, 110, -74, -69, 92, -82, -2, -106, -106, -106, 55, 14, -121, 3, -3, 101, 47, 53, -68, 91, 89, 89, -119, -81, 81, 84, 17, 71, 125, 125, -3, 23, 106, -27, -65, -118, 9, -96, -33, -109, -109, -109, 127, -38, -19, 118, -66, -86, -86, -118, 69, 69, 69, -79, -1, -61, -14, -13, -13, 89, 74, 74, 10, 71, -64, 124, -37, -40, -40, -24, 90, 89, 89, -39, 120, -110, 0, -11, 60, 105, 106, 106, 106, -38, 106, -75, -66, 49, -103, 76, -52, -25, -13, 49, -65, -33, 47, -101, -60, -35, -35, -99, -48, 103, 124, 80, -26, -101, -101, 27, 118, 127, 127, 47, -36, 83, 74, 58, 51, 51, 19, -9, 56, 90, -96, -115, -16, -12, -57, -30, -30, -94, 7, -1, 107, -59, 7, 54, 55, 55, -1, -50, -54, -54, -46, -43, -42, -42, -122, 4, -30, 56, 46, -48, 6, 36, 116, 124, 124, 44, 4, -106, 26, 118, -62, -39, -39, -103, -80, 51, 104, -75, -78, -119, 52, 53, 53, -79, -91, -91, -91, 104, -60, -94, -97, 66, 111, 120, 17, 116, 84, 22, -109, -51, 102, 123, -14, -46, -19, -19, -83, -16, 65, 69, -74, -73, -73, 101, -125, 75, 19, 33, -48, 49, -30, 8, -39, -5, -99, -99, -99, 12, -79, -48, -18, 64, 11, 116, 58, -35, 72, 89, 89, 89, 74, 113, 113, -79, -20, 75, 15, 15, 15, 108, 99, 99, 67, -88, -122, 90, 35, -46, 98, -15, -15, -15, -116, -25, -7, 39, -64, 68, 114, -28, -81, -110, -72, -29, 55, -98, 24, -50, 0, -110, 9, 46, -67, -44, -10, -10, -10, -40, -2, -2, 62, -69, -66, -66, 126, 22, -8, 64, 78, 114, 6, 78, -95, -104, 5, -120, -51, 83, -90, 63, 16, 89, 112, 49, 49, 49, -78, 15, -93, -17, 8, 14, 35, 10, 22, 74, -84, -42, 60, 30, -113, -128, 35, -87, -127, -48, -64, -86, -120, -51, -109, 83, -117, 82, -23, -59, 82, -94, -1, -94, 1, -124, 112, -84, -42, -80, 67, -28, -84, -76, -76, 20, 11, -78, -16, 116, -72, 100, 18, -6, 21, 29, 72, -63, -124, -118, 28, 29, 29, 9, -64, 84, 99, 114, 21, -128, -27, -26, -26, 50, -60, -26, 105, -21, -24, 83, 83, 83, 21, 29, 4, -81, 62, 56, -119, -61, -61, 67, 69, -25, -46, 103, -27, 44, 61, 61, 29, -37, 86, -49, -29, 72, 13, 71, -73, 90, -83, 86, 49, 49, -128, 76, 36, 32, 37, -45, 104, 52, -78, -1, -125, 47, 16, -101, -113, -76, 2, 37, 112, 6, 39, -127, 109, 26, -18, 60, 8, 103, 88, -67, 79, -119, 52, 68, 7, -31, -100, 60, 62, 62, 10, 73, -32, -6, -100, 5, 96, 55, 33, 54, -97, -104, -104, -24, 6, -78, -61, 25, 29, -53, 97, -17, -93, 2, -64, -124, 52, 9, 80, -78, 18, 121, 97, 107, 35, 54, 79, 18, 106, 7, -44, 25, -50, 72, 98, -79, 112, 64, 21, -47, -114, 36, 68, -48, -94, -57, 96, 66, 37, 91, 95, 95, 103, -120, -51, -109, -114, 27, 93, 88, 88, -120, -120, 102, 84, 1, 31, 37, 80, -118, 73, -96, -102, 16, 48, 6, -125, 33, -84, -65, -39, -39, 89, -122, -40, 60, -83, -18, 23, 58, 28, -4, 106, 104, 22, -3, 84, 66, 117, 112, 18, -111, 118, 6, 14, 52, -24, 70, -60, -42, -48, -113, -21, -94, -94, 34, 59, 93, -109, 73, 72, 42, 2, 6, 37, -37, -35, -35, 85, 4, -101, -108, -88, 46, 46, 46, 4, -54, -107, 59, -106, 73, -102, -31, -78, 58, 49, 49, -15, -127, -1, 90, -34, -17, -58, -57, -57, 5, -38, -107, 26, 74, 74, -30, -31, -39, 7, 17, -79, 28, -101, -97, -97, 23, -82, -63, -122, -60, -58, -58, -58, 16, -13, 125, -120, 40, -83, -88, -88, -8, 68, 71, -89, -87, -85, -85, 43, -28, 52, -37, -39, -39, 121, -107, 28, 67, 21, 72, 21, 7, 64, -36, -35, -35, -115, 93, -13, 121, 122, 122, -38, 20, 16, 36, 48, 122, -88, -103, 4, -121, -105, 36, 83, 32, -45, -41, 6, 23, -5, 13, 33, 3, -23, 54, 50, 50, 2, -27, -27, -91, 88, -33, 62, -47, -124, -48, 104, 117, 117, 117, -97, -88, 60, 14, -54, -106, -109, -106, -18, 53, 6, -94, -93, -13, -97, -111, 40, -11, 85, 87, 87, 91, -5, -5, -5, 23, 100, 85, 49, -44, 106, 67, 67, -61, -105, -31, -31, -31, -73, -76, -107, 56, -75, -125, 72, 36, 3, 120, 9, 99, -66, -102, -102, -102, 119, 67, 67, 67, 127, -123, -99, 11, -96, -37, 105, 18, 114, -47, 96, 98, -93, -14, 105, 49, -126, -15, -111, -113, 12, 69, -122, 36, 63, -16, -23, 37, -103, 111, -107, 6, 15, -63, -128, 100, -101, 124, -92, 82, 25, 104, -49, 79, -11, -10, -10, 10, 51, 95, -92, -19, 39, 61, 31, -16, 14, -34, -123, 15, -8, 82, -102, 17, -43, 12, -89, 102, -94, -22, 95, -87, 61, 70, 26, 74, 57, 32, -102, 56, 28, 66, 54, 64, 74, 8, 8, -107, 4, 89, 78, 32, 19, -126, -109, -52, -61, 112, -6, -98, 2, 59, 95, 53, 29, 75, -58, -13, -97, 8, -100, -33, 96, 60, -89, 96, 58, 10, 42, 84, -112, -110, -15, 81, 82, -98, -81, -29, -7, 63, -60, 112, 63, -85, 29, -49, -1, 19, 96, 0, 72, -62, -61, 49, 70, -120, -55, 30, 0, 0, 0, 0, 73, 69, 78, 68, -82, 66, 96, -126});
		param.setType(Constants.图片素材.getValue());
		UploadResult upload = MediaClient.upload(param);
		System.out.println(upload);
	}

}
